#include QMK_KEYBOARD_H
#include "gnuman.h"

#define \
    LAYOUT_base( \
        K01, K02, K03, K04, K05, K06, K07, K08, K09, K0A, \
        K11, K12, K13, K14, K15, K16, K17, K18, K19, K1A, \
        K21, K22, K23, K24, K25, K26, K27, K28, K29, K2A  \
    ) \
    LAYOUT_wrapper( \
    /* ┌───────┬───────┬───────┬───────┬───────┬───────┬───────┬───────┬───────┬───────┬───────┬───────┬───────┬──────────────┐ */ \
         KC_ESC,______________NUMBER_LEFT______________,______________NUMBER_RIGHT_____________,KC_MINS, KC_EQL,    KC_BSPC   ,    \
    /* ├───────┴──┬────┴──┬────┴──┬────┴──┬────┴──┬────┴──┬────┴──┬────┴──┬────┴──┬────┴──┬────┴──┬────┴──┬────┴──┬───────────┤ */ \
          KC_TAB  ,    K01,    K02,    K03,    K04,    K05,    K06,    K07,    K08,    K09,    K0A,KC_LBRC,KC_RBRC,  KC_BSLS  ,    \
    /* ├──────────┴─┬─────┴─┬─────┴─┬─────┴─┬─────┴─┬─────┴─┬─────┴─┬─────┴─┬─────┴─┬─────┴─┬─────┴─┬─────┴─┬─────┴───────────┤ */ \
           LT_NAV   ,    K11,    K12,    K13,    K14,    K15,    K16,    K17,    K18,    K19,    K1A,KC_QUOT,      KC_ENT     ,    \
    /* ├────────────┴────┬──┴────┬──┴────┬──┴────┬──┴────┬──┴────┬──┴────┬──┴────┬──┴────┬──┴────┬──┴────┬──┴─────────────────┤ */ \
             KC_LSFT     ,    K21,    K22,    K23,    K24,    K25,    K26,    K27,    K28,    K29,    K2A,       KC_RSFT      ,    \
    /* ├─────────┬───────┴─┬─────┴───┬───┴───────┴───────┴───────┴───────┴───────┴────┬──┴──────┬┴───────┴┬─────────┬─────────┤ */ \
         KC_LCTL , KC_LGUI , KC_LALT ,                     KC_SPC                     , KC_RALT ,  MO_OPT ,  TG_UC  , KC_RCTL      \
    /* └─────────┴─────────┴─────────┴────────────────────────────────────────────────┴─────────┴─────────┴─────────┴─────────┘ */ \
    )

#undef LAYOUT_wrapper
#define LAYOUT_wrapper(...) LAYOUT_ansi(__VA_ARGS__)

const uint16_t PROGMEM keymaps[][MATRIX_ROWS][MATRIX_COLS] = {
    [_PRIMARY] = LAYOUT_base_wrapper(
        _____________COLEMAK_DHM_L1____________, _____________COLEMAK_DHM_R1____________,
        _____________COLEMAK_DHM_L2____________, _____________COLEMAK_DHM_R2____________,
        _____________COLEMAK_DHM_L3____________, _____________COLEMAK_DHM_R3____________
    ),

    [_SECONDARY] = LAYOUT_base_wrapper(
        _______________QWERTY_L1_______________, _______________QWERTY_R1_______________,
        _______________QWERTY_L2_______________, _______________QWERTY_R2_______________,
        _______________QWERTY_L3_______________, _______________QWERTY_R3_______________
    ),

    [_EMPTY] = LAYOUT_wrapper(
    // ┌───────┬───────┬───────┬───────┬───────┬───────┬───────┬───────┬───────┬───────┬───────┬───────┬───────┬──────────────┐
        XXXXXXX,XXXXXXX,XXXXXXX,XXXXXXX,XXXXXXX,XXXXXXX,XXXXXXX,XXXXXXX,XXXXXXX,XXXXXXX,XXXXXXX,XXXXXXX,XXXXXXX,    TO_PRI    ,
    // ├───────┴──┬────┴──┬────┴──┬────┴──┬────┴──┬────┴──┬────┴──┬────┴──┬────┴──┬────┴──┬────┴──┬────┴──┬────┴──┬───────────┤
          XXXXXXX ,XXXXXXX,XXXXXXX,XXXXXXX,XXXXXXX,XXXXXXX,XXXXXXX,XXXXXXX,XXXXXXX,XXXXXXX,XXXXXXX,XXXXXXX,XXXXXXX,  XXXXXXX  ,
    // ├──────────┴─┬─────┴─┬─────┴─┬─────┴─┬─────┴─┬─────┴─┬─────┴─┬─────┴─┬─────┴─┬─────┴─┬─────┴─┬─────┴─┬─────┴───────────┤
           XXXXXXX  ,XXXXXXX,XXXXXXX,XXXXXXX,XXXXXXX,XXXXXXX,XXXXXXX,XXXXXXX,XXXXXXX,XXXXXXX,XXXXXXX,XXXXXXX,     XXXXXXX     ,
    // ├────────────┴────┬──┴────┬──┴────┬──┴────┬──┴────┬──┴────┬──┴────┬──┴────┬──┴────┬──┴────┬──┴────┬──┴─────────────────┤
             XXXXXXX     ,XXXXXXX,XXXXXXX,XXXXXXX,XXXXXXX,XXXXXXX,XXXXXXX,XXXXXXX,XXXXXXX,XXXXXXX,XXXXXXX,       XXXXXXX      ,
    // ├─────────┬───────┴─┬─────┴───┬───┴───────┴───────┴───────┴───────┴───────┴────┬──┴──────┬┴───────┴┬─────────┬─────────┤
         XXXXXXX , XXXXXXX , XXXXXXX ,                     XXXXXXX                    , XXXXXXX , XXXXXXX , XXXXXXX , XXXXXXX
    // └─────────┴─────────┴─────────┴────────────────────────────────────────────────┴─────────┴─────────┴─────────┴─────────┘
    ),

    [_NAV] = LAYOUT_wrapper(
    // ┌───────┬───────┬───────┬───────┬───────┬───────┬───────┬───────┬───────┬───────┬───────┬───────┬───────┬──────────────┐
         KC_GRV,_______________FUNC_LEFT_______________,_______________FUNC_RIGHT______________, KC_F11, KC_F12,    KC_DEL    ,
    // ├───────┴──┬────┴──┬────┴──┬────┴──┬────┴──┬────┴──┬────┴──┬────┴──┬────┴──┬────┴──┬────┴──┬────┴──┬────┴──┬───────────┤
          _______ ,_________________NAV_L1________________,_________________NAV_R1________________,_______,_______,  _______  ,
    // ├──────────┴─┬─────┴─┬─────┴─┬─────┴─┬─────┴─┬─────┴─┬─────┴─┬─────┴─┬─────┴─┬─────┴─┬─────┴─┬─────┴─┬─────┴───────────┤
           _______  ,_________________NAV_L2________________,_________________NAV_R2________________,_______,     _______     ,
    // ├────────────┴────┬──┴────┬──┴────┬──┴────┬──┴────┬──┴────┬──┴────┬──┴────┬──┴────┬──┴────┬──┴────┬──┴─────────────────┤
             _______     ,_________________NAV_L3________________,_________________NAV_R3________________,       _______      ,
    // ├─────────┬───────┴─┬─────┴───┬───┴───────┴───────┴───────┴───────┴───────┴────┬──┴──────┬┴───────┴┬─────────┬─────────┤
         _______ , _______ , _______ ,                     _______                    , _______ , _______ , _______ , _______
    // └─────────┴─────────┴─────────┴────────────────────────────────────────────────┴─────────┴─────────┴─────────┴─────────┘
    ),

    [_OPTION] = LAYOUT_wrapper(
    // ┌───────┬───────┬───────┬───────┬───────┬───────┬───────┬───────┬───────┬───────┬───────┬───────┬───────┬──────────────┐
         RESET ,_______________FUNC_LEFT_______________,_______________FUNC_RIGHT______________, KC_F11, KC_F12,    TO_EMP    ,
    // ├───────┴──┬────┴──┬────┴──┬────┴──┬────┴──┬────┴──┬────┴──┬────┴──┬────┴──┬────┴──┬────┴──┬────┴──┬────┴──┬───────────┤
          _______ ,_______________OPTION_L1_______________,_______________OPTION_R1_______________,_______,_______,  _______  ,
    // ├──────────┴─┬─────┴─┬─────┴─┬─────┴─┬─────┴─┬─────┴─┬─────┴─┬─────┴─┬─────┴─┬─────┴─┬─────┴─┬─────┴─┬─────┴───────────┤
           _______  ,_______________OPTION_L2_______________,_______________OPTION_R2_______________,_______,     _______     ,
    // ├────────────┴────┬──┴────┬──┴────┬──┴────┬──┴────┬──┴────┬──┴────┬──┴────┬──┴────┬──┴────┬──┴────┬──┴─────────────────┤
             _______     ,_______________OPTION_L3_______________,_______________OPTION_R3_______________,       _______      ,
    // ├─────────┬───────┴─┬─────┴───┬───┴───────┴───────┴───────┴───────┴───────┴────┬──┴──────┬┴───────┴┬─────────┬─────────┤
         _______ , _______ , _______ ,                     _______                    , _______ , _______ , _______ , _______
    // └─────────┴─────────┴─────────┴────────────────────────────────────────────────┴─────────┴─────────┴─────────┴─────────┘
    ),
#ifdef UNICODE_ENABLE
    [_UNICODE] = LAYOUT_wrapper(
    // ┌───────┬───────┬───────┬───────┬───────┬───────┬───────┬───────┬───────┬───────┬───────┬───────┬───────┬──────────────┐
        _______,_________________TRANS_________________,_________________TRANS_________________,UC_M_WC,UC_M_LN,    _______   ,
    // ├───────┴──┬────┴──┬────┴──┬────┴──┬────┴──┬────┴──┬────┴──┬────┴──┬────┴──┬────┴──┬────┴──┬────┴──┬────┴──┬───────────┤
          _______ ,_______________UNICODE_L1______________,_______________UNICODE_R1______________,_______,_______,  _______  ,
    // ├──────────┴─┬─────┴─┬─────┴─┬─────┴─┬─────┴─┬─────┴─┬─────┴─┬─────┴─┬─────┴─┬─────┴─┬─────┴─┬─────┴─┬─────┴───────────┤
           _______  ,_______________UNICODE_L2______________,_______________UNICODE_R2______________,_______,     _______     ,
    // ├────────────┴────┬──┴────┬──┴────┬──┴────┬──┴────┬──┴────┬──┴────┬──┴────┬──┴────┬──┴────┬──┴────┬──┴─────────────────┤
             _______     ,_______________UNICODE_L3______________,_______________UNICODE_R3______________,       _______      ,
    // ├─────────┬───────┴─┬─────┴───┬───┴───────┴───────┴───────┴───────┴───────┴────┬──┴──────┬┴───────┴┬─────────┬─────────┤
         _______ , _______ , _______ ,                     _______                    , _______ , _______ , _______ , _______
    // └─────────┴─────────┴─────────┴────────────────────────────────────────────────┴─────────┴─────────┴─────────┴─────────┘
    )
#endif
#ifdef MIDI_ENABLE
    [_UNICODE] = LAYOUT_wrapper(
    // ┌───────┬───────┬───────┬───────┬───────┬───────┬───────┬───────┬───────┬───────┬───────┬───────┬───────┬──────────────┐
         TG_UC ,_______________MIDI_LVEL_______________,_______________MIDI_RVEL_______________, MI_CHD, MI_CHU,    XXXXXXX   ,
    // ├───────┴──┬────┴──┬────┴──┬────┴──┬────┴──┬────┴──┬────┴──┬────┴──┬────┴──┬────┴──┬────┴──┬────┴──┬────┴──┬───────────┤
          XXXXXXX ,________________MIDI_L1________________,________________MIDI_R1________________,XXXXXXX,MI_Fs_1,  XXXXXXX  ,
    // ├──────────┴─┬─────┴─┬─────┴─┬─────┴─┬─────┴─┬─────┴─┬─────┴─┬─────┴─┬─────┴─┬─────┴─┬─────┴─┬─────┴─┬─────┴───────────┤
           MI_MOD   ,________________MIDI_L2________________,________________MIDI_R2________________, MI_F_1,    MI_ALLOFF    ,
    // ├────────────┴────┬──┴────┬──┴────┬──┴────┬──┴────┬──┴────┬──┴────┬──┴────┬──┴────┬──┴────┬──┴────┬──┴─────────────────┤
              MI_SUS     ,________________MIDI_L3________________,________________MIDI_R3________________,       MI_SUS       ,
    // ├─────────┬───────┴─┬─────┴───┬───┴───────┴───────┴───────┴───────┴───────┴────┬──┴──────┬┴───────┴┬─────────┬─────────┤
         XXXXXXX , XXXXXXX , XXXXXXX ,                      MI_C                      , XXXXXXX , XXXXXXX , XXXXXXX , XXXXXXX
    // └─────────┴─────────┴─────────┴────────────────────────────────────────────────┴─────────┴─────────┴─────────┴─────────┘
    )
#endif
};
