#include QMK_KEYBOARD_H
#include "gnuman.h"

#define TG_NKRO MAGIC_TOGGLE_NKRO //Toggle 6KRO / NKRO mode

#define \
    LAYOUT_base( \
        K01, K02, K03, K04, K05, K06, K07, K08, K09, K0A, \
        K11, K12, K13, K14, K15, K16, K17, K18, K19, K1A, \
        K21, K22, K23, K24, K25, K26, K27, K28, K29, K2A  \
    ) \
    LAYOUT_wrapper( \
    /* ┌───────┬───────┬───────┬───────┬───────┬───────┬───────┬───────┬───────┬───────┬───────┬───────┬───────┬──────────────┬───────┐ */ \
         KC_ESC,______________NUMBER_LEFT______________,______________NUMBER_RIGHT_____________,KC_MINS, KC_EQL,    KC_BSPC   , KC_DEL,    \
    /* ├───────┴──┬────┴──┬────┴──┬────┴──┬────┴──┬────┴──┬────┴──┬────┴──┬────┴──┬────┴──┬────┴──┬────┴──┬────┴──┬───────────┼───────┤ */ \
          KC_TAB  ,    K01,    K02,    K03,    K04,    K05,    K06,    K07,    K08,    K09,    K0A,KC_LBRC,KC_RBRC,  KC_BSLS  ,KC_HOME,    \
    /* ├──────────┴─┬─────┴─┬─────┴─┬─────┴─┬─────┴─┬─────┴─┬─────┴─┬─────┴─┬─────┴─┬─────┴─┬─────┴─┬─────┴─┬─────┴───────────┼───────┤ */ \
           LT_NAV   ,    K11,    K12,    K13,    K14,    K15,    K16,    K17,    K18,    K19,    K1A,KC_QUOT,      KC_ENT     ,KC_PGUP,    \
    /* ├────────────┴────┬──┴────┬──┴────┬──┴────┬──┴────┬──┴────┬──┴────┬──┴────┬──┴────┬──┴────┬──┴────┬──┴─────────┬───────┼───────┤ */ \
             KC_LSFT     ,    K21,    K22,    K23,    K24,    K25,    K26,    K27,    K28,    K29,    K2A,   KC_RSFT  ,  KC_UP,KC_PGDN,    \
    /* ├─────────┬───────┴─┬─────┴───┬───┴───────┴───────┴───────┴───────┴───────┴───┬───┴─────┬─┴───────┼────┬───────┼───────┼───────┤ */ \
         KC_LCTL , KC_LGUI , KC_LALT ,                     KC_SPC                    , KC_RALT ,  MO_OPT ,     KC_LEFT,KC_DOWN,KC_RGHT     \
    /* └─────────┴─────────┴─────────┴───────────────────────────────────────────────┴─────────┴─────────┴────┴───────┴───────┴───────┘ */ \
    )

#undef LAYOUT_wrapper
#define LAYOUT_wrapper(...) LAYOUT_65_ansi_blocker(__VA_ARGS__)

const uint16_t PROGMEM keymaps[][MATRIX_ROWS][MATRIX_COLS] = {
    [_PRIMARY] = LAYOUT_base_wrapper(
        _______________QWERTY_L1_______________, _______________QWERTY_R1_______________,
        _______________QWERTY_L2_______________, _______________QWERTY_R2_______________,
        _______________QWERTY_L3_______________, _______________QWERTY_R3_______________
    ),

    [_SECONDARY] = LAYOUT_base_wrapper(
        _____________COLEMAK_DHM_L1____________, _____________COLEMAK_DHM_R1____________,
        _____________COLEMAK_DHM_L2____________, _____________COLEMAK_DHM_R2____________,
        _____________COLEMAK_DHM_L3____________, _____________COLEMAK_DHM_R3____________
    ),

    [_EMPTY] = LAYOUT_wrapper(
    // ┌───────┬───────┬───────┬───────┬───────┬───────┬───────┬───────┬───────┬───────┬───────┬───────┬───────┬──────────────┬───────┐
        XXXXXXX,XXXXXXX,XXXXXXX,XXXXXXX,XXXXXXX,XXXXXXX,XXXXXXX,XXXXXXX,XXXXXXX,XXXXXXX,XXXXXXX,XXXXXXX,XXXXXXX,    TO_PRI    ,XXXXXXX,
    // ├───────┴──┬────┴──┬────┴──┬────┴──┬────┴──┬────┴──┬────┴──┬────┴──┬────┴──┬────┴──┬────┴──┬────┴──┬────┴──┬───────────┼───────┤
          XXXXXXX ,XXXXXXX,XXXXXXX,XXXXXXX,XXXXXXX,XXXXXXX,XXXXXXX,XXXXXXX,XXXXXXX,XXXXXXX,XXXXXXX,XXXXXXX,XXXXXXX,  XXXXXXX  ,XXXXXXX,
    // ├──────────┴─┬─────┴─┬─────┴─┬─────┴─┬─────┴─┬─────┴─┬─────┴─┬─────┴─┬─────┴─┬─────┴─┬─────┴─┬─────┴─┬─────┴───────────┼───────┤
           XXXXXXX  ,XXXXXXX,XXXXXXX,XXXXXXX,XXXXXXX,XXXXXXX,XXXXXXX,XXXXXXX,XXXXXXX,XXXXXXX,XXXXXXX,XXXXXXX,     XXXXXXX     ,XXXXXXX,
    // ├────────────┴────┬──┴────┬──┴────┬──┴────┬──┴────┬──┴────┬──┴────┬──┴────┬──┴────┬──┴────┬──┴────┬──┴─────────┬───────┼───────┤
             XXXXXXX     ,XXXXXXX,XXXXXXX,XXXXXXX,XXXXXXX,XXXXXXX,XXXXXXX,XXXXXXX,XXXXXXX,XXXXXXX,XXXXXXX,   XXXXXXX  ,XXXXXXX,XXXXXXX,
    // ├─────────┬───────┴─┬─────┴───┬───┴───────┴───────┴───────┴───────┴───────┴───┬───┴─────┬─┴───────┼────┬───────┼───────┼───────┤
         XXXXXXX , XXXXXXX , XXXXXXX ,                    XXXXXXX                    , XXXXXXX , XXXXXXX ,     XXXXXXX,XXXXXXX,XXXXXXX
    // └─────────┴─────────┴─────────┴───────────────────────────────────────────────┴─────────┴─────────┴────┴───────┴───────┴───────┘
    ),

    [_NAV] = LAYOUT_wrapper(
    // ┌───────┬───────┬───────┬───────┬───────┬───────┬───────┬───────┬───────┬───────┬───────┬───────┬───────┬──────────────┬───────┐
         KC_GRV,_______________FUNC_LEFT_______________,_______________FUNC_RIGHT______________, KC_F11, KC_F12,    _______   ,_______,
    // ├───────┴──┬────┴──┬────┴──┬────┴──┬────┴──┬────┴──┬────┴──┬────┴──┬────┴──┬────┴──┬────┴──┬────┴──┬────┴──┬───────────┼───────┤
          _______ ,_________________NAV_L1________________,_________________NAV_R1________________,_______,_______,  _______  ,_______,
    // ├──────────┴─┬─────┴─┬─────┴─┬─────┴─┬─────┴─┬─────┴─┬─────┴─┬─────┴─┬─────┴─┬─────┴─┬─────┴─┬─────┴─┬─────┴───────────┼───────┤
           _______  ,_________________NAV_L2________________,_________________NAV_R2________________,_______,     _______     ,_______,
    // ├────────────┴────┬──┴────┬──┴────┬──┴────┬──┴────┬──┴────┬──┴────┬──┴────┬──┴────┬──┴────┬──┴────┬──┴─────────┬───────┼───────┤
             _______     ,_________________NAV_L3________________,_________________NAV_R3________________,   _______  ,_______,_______,
    // ├─────────┬───────┴─┬─────┴───┬───┴───────┴───────┴───────┴───────┴───────┴───┬───┴─────┬─┴───────┼────┬───────┼───────┼───────┤
         _______ , _______ , _______ ,                    _______                    , _______ , _______ ,     _______,_______,_______
    // └─────────┴─────────┴─────────┴───────────────────────────────────────────────┴─────────┴─────────┴────┴───────┴───────┴───────┘
    ),

    [_OPTION] = LAYOUT_wrapper(
    // ┌───────┬───────┬───────┬───────┬───────┬───────┬───────┬───────┬───────┬───────┬───────┬───────┬───────┬──────────────┬───────┐
         RESET ,_______________FUNC_LEFT_______________,_______________FUNC_RIGHT______________, KC_F11, KC_F12,    TO_EMP    ,KC_MUTE,
    // ├───────┴──┬────┴──┬────┴──┬────┴──┬────┴──┬────┴──┬────┴──┬────┴──┬────┴──┬────┴──┬────┴──┬────┴──┬────┴──┬───────────┼───────┤
          _______ ,_______________OPTION_L1_______________,_______________OPTION_R1_______________,_______,_______,  _______  , KC_END,
    // ├──────────┴─┬─────┴─┬─────┴─┬─────┴─┬─────┴─┬─────┴─┬─────┴─┬─────┴─┬─────┴─┬─────┴─┬─────┴─┬─────┴─┬─────┴───────────┼───────┤
           _______  ,_______________OPTION_L2_______________,_______________OPTION_R2_______________,_______,     _______     ,KC_VOLU,
    // ├────────────┴────┬──┴────┬──┴────┬──┴────┬──┴────┬──┴────┬──┴────┬──┴────┬──┴────┬──┴────┬──┴────┬──┴─────────┬───────┼───────┤
             TG_NKRO     ,_______________OPTION_L3_______________,_______________OPTION_R3_______________,   _______  ,KC_PGUP,KC_VOLD,
    // ├─────────┬───────┴─┬─────┴───┬───┴───────┴───────┴───────┴───────┴───────┴───┬───┴─────┬─┴───────┼────┬───────┼───────┼───────┤
         _______ , _______ , _______ ,                    _______                    , _______ , _______ ,     KC_HOME,KC_PGDN, KC_END
    // └─────────┴─────────┴─────────┴───────────────────────────────────────────────┴─────────┴─────────┴────┴───────┴───────┴───────┘
    )
};
